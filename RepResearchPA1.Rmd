---
title: "Reproducible Research: Peer Assessment 1"
output: 
  html_document:
    keep_md: true
---

## Loading and preprocessing the data

```{r}
library(downloader)
library(utils)
dataDir <- "data"
if(!file.exists(dataDir)) {
    dir.create(file.path(".", dataDir))
} else {
    unlink(file.path(".", dataDir), recursive = TRUE)
    dir.create(file.path(".", dataDir))
}
#fileUrl <- "https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip"
fileUrl <- paste0("https://github.com/MichaelSzczepaniak/",
                  "RepData_PeerAssessment1/raw/master/activity.zip")
renameZipTo <- "data.zip"
renameDataTo <- "data.csv"
download(fileUrl, file.path(".", dataDir, renameZipTo))
zipFiles <- unzip(file.path(".", dataDir, renameZipTo), list = TRUE)
csvFile <- zipFiles$Name[1] # there should only be one file in this zip archive
unzip(file.path(".", dataDir, renameZipTo), exdir = file.path(".", dataDir))
dataFiles <- list.files(file.path(".", dataDir))
success <- file.rename(file.path(".", dataDir, csvFile),
                       file.path(".", dataDir, renameDataTo))
activity.data <- read.csv(file.path(".", dataDir, renameDataTo), header = TRUE)

```
### Number of NA in the **steps** field
```{r}
sum(is.na(activity.data$steps))
```
### Number of records that have values in the **steps** field

```{r}
length(activity.data$steps) - sum(is.na(activity.data$steps))
```
## What is mean total number of steps taken per day?

```{r}
suppressMessages(suppressWarnings(require(dplyr)))
activity.data.nonas <- filter(activity.data, !is.na(steps))
activity.byday <- group_by(activity.data.nonas, date)
activity.summ <- summarize(activity.byday, Total.Steps = sum(steps),
                                           Mean.Steps = mean(steps),
                                           Median.Steps = median(steps))
steps.mean <- mean(activity.summ$Total.Steps)
steps.median <- median(activity.summ$Total.Steps)
hist(activity.summ$Total.Steps)
```

The mean number of steps taken per day was `r steps.mean`  
The median number of steps taken per day was `r steps.median`  

## What is the average daily activity pattern?



## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?
